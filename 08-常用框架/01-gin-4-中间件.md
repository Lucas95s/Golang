## 一 Gin中间件使用

gin框架允许在处理请求时，加入用户自己的钩子函数，该钩子函数即中间件。  

```go
package main

import (
	"github.com/gin-gonic/gin"
	"fmt"
)

func Test() gin.HandlerFunc {
	return func(c *gin.Context) {
		c.Set("before", "123")
		fmt.Println("执行了中间件")
		c.Next()
		fmt.Println("执行了next")
	}
}

func main() {

	router := gin.Default()

	router.Use(Test())

	router.GET("/", func(c *gin.Context){
		before := c.MustGet("before").(string)
		fmt.Println("before:", before)
	})

	router.Run(":3000")
}

```
依次输出：
```
执行了中间件
before: 123
执行了next
```

注意：next后不要设置一些值，无法获取

## 二 gin中间件设计

TODO===