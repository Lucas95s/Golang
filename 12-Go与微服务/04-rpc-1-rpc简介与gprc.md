## 一 rpc概述  

RPC(Remote Procedure Call Protocol)——远程过程调用协议，它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。  

简单来说，就是跟远程访问或者web请求差不多，都是一个client向远端服务器请求服务返回结果，但是web请求 使用的网络协议是http高层协议，而rpc所使用的协议多为TCP，是网络层协议，减少了信息的包装，加快了处理速度。  

在OSI网络通信模型中，RPC跨越了传输层和应用层，使得开发包括网络分布式多程序在内的应用程序更加容易。运行时，一次客户机对服务器的RPC调用，步骤如下：
- 1 调用客户端句柄，执行传送参数
- 2 调用本地系统内核发送网络消息
- 3 消息传送到远程主机
- 4 服务器句柄得到消息并得到参数
- 5 执行远程过程
- 6 返回执行结果给服务器句柄
- 7 服务器句柄返回结果，调用远程系统内核
- 8 消息传回本地主机
- 9 客户句柄由内核接收消息
- 10 客户接收句柄返回的数据

## 二 grpc

#### 2.1 grpc概念

在gRPC里客户端应用可以像调用本地对象一样直接调用另一台不同的机器上服务端应用的方法，使得开发者能够更容易地创建分布式应用和服务。与许多RPC系统类似， gRPC也是基于以下理念:
- 定义一个服务，指定其能够被远程调用的方法(包含参数和返回类型)。
- 在服务端实现这个接口，并运行一个gRPC服务器来处理客户端调用。

gRPC客户端和服务端可以在多种环境中运行和交互，并且可以用任何 gRPC支持的语言来编写。所以，开发者可以很容易地用 Java 创建一个 gRPC 服务端，用 Go、 Python、Ruby来创建客户端。

#### 2.2 GRPC 与 protocol buffers

gRPC默认使用protoBuf，这是 Google开源的一套成熟的结构数据序列化机制(当然也可以使用其他数据格式如 JSON)。
