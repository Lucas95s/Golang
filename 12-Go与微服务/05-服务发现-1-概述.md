## 一 服务发现

因为一套微服务架构中有很多个服务需要管理，也就是说会有很多对grpc，如果一一对应的进行管理会很繁琐所以我们需要有一个管理发现的机制。  

微服务的框架体系中，服务发现是不能不提的一个模块。客户端的一个接口需要调用多个服务，客户端必须知道所有服务的网络位置，以往的做法是使用配置文件，或者配置在数据库中，这就出现了一些问题：
- 需要配置N个服务的网络位置，加大配置的复杂性 
- 服务的网络位置变化，都需要改变每个调用者的配置 
- 集群的情况下，难以做负载(反向代理的方式除外)

有了服务发现模块，多个微服务把当前自己的网络位置注册 到服务发现模块(这里注册的意思就是告诉)，服务发现就以K-V的方式记录下，K一般是服务名，V就是 IP:PORT。服务发现模块定时的轮询查看这些服务能不能访问的了(这就是健康检查)。客户端在调用服务A-N的 时候，就跑去服务发现模块问下它们的网络位置，然后再调用它们的服务。  

客户端完全不需要记录这些服务网络位置，客户端和服务端完全解耦!

## 二 常用的服务发现技术

- consul
- etcd
- zookeeper